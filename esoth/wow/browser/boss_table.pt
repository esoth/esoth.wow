<table class="listing vertical"
       id="bossNeeds"
       tal:define="bossNeeds view/bossNeeds;
                   bosses view/bossOrder">
  <tr>
    <th colspan="2">Boss Needs</th>
  </tr>
  <tr>
    <th colspan="2">
      <label for="normalItems">normal:</label>
      <input id="normalItems" name="normalItems" type="checkbox" checked="checked" onclick="$('.normalItem').toggle()"/> |
      <label for="heroicItems">heroic:</label>
      <input id="heroicItems" name="heroicItems" type="checkbox" checked="checked" onclick="$('.heroicItem').toggle()"/>
    </th>
  </tr>
  <tr>
    <th colspan="2">
      <label for="tier14">Tier 14:</label>
      <input id="tier14" name="tier14" type="checkbox" onclick="$('.tier14').toggle()"/> |
      <label for="tier15">Tier 15:</label>
      <input id="tier15" name="tier15" type="checkbox" checked="checked" onclick="$('.tier15').toggle()"/>
    </th>
  </tr>
  <tal:boss repeat="boss bosses">
    <tr tal:attributes="class boss/tier">
      <th tal:content="boss/name" />
      <td>
        <ul>
          <tal:need repeat="need python:bossNeeds.get(boss['name'],[])">
            <li tal:attributes="class need/class">
              <a tal:attributes="href string:http://www.wowhead.com?item=${need/id}"
                 tal:content="string:${need/name} (${need/slot})" />
            </li>
          </tal:need>
        </ul>
      </td>   
    </tr>
  </tal:boss>
</table>